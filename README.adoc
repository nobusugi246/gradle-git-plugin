= Gradle DSL and Tasks for handling git repositories in some Use Cases.
:example-caption: List

This Gradle Plugin has a DSL(Domain Specific Language) and Tasks for
handling git repositories in some Use Cases.


== Use Cases

Gitは柔軟で強力な分散バージョン管理ツールですが、
それだけに実際の開発ではどのように利用するか、運用ルールを決める必要があります。

Gitによる運用ルールのベストプラクティスとしては、
Git Flow、GitLab Flow、GitHub Flowなどが有名です。

Git Flowは大規模な開発、運用を長期的に行う場合に向いているようです。
GitLab Flowは中・小規模で、iOS/Androidアプリケーションなどの開発に、
GitHub Flowは小さいチームに別れて行なうWebアプリケーションの開発に向いているようです。

この DSLが想定しているユースケースについて説明します。

.Big Picture of a Use Case.
image::https://raw.githubusercontent.com/nobusugi246/gradle-jgit-plugin/master/readme_images/aUseCase.png[width=640]

"fork"により開発を初める場合。

* (1) GitHubやGitBucket等のレポジトリにて、
  機能拡張や不具合修正の対象となる、オリジナルのレポジトリ(Original Repository)を forkし、
  自分のレポジトリ(My Repository)を作成する。
* (2) 自分のレポジトリ(My Repository)を、cloneして
  ローカルレポジトリ(Local Repository)を作成する。
* (3) 機能拡張や不具合修正を行なうための branchを作成する。(GitHub Flowを想定)
* (4)(5) 修正や新規追加したファイルを addし、commitする。
* (6) 広く公開する前に、プライベートなサーバに pushし、公開して問題無い内容か確認する。
  または、プロジェクトメンバによりレビューを行なう。
  (必要に応じて pull requestをプライベート・サーバで発行する)
* (7)(8) 他のプロジェクトメンバからの pushがあれば、それを fetchし mergeする。
  または、他のメンバから pull requestがあれば mergeする。
* (9) 問題が無ければ、公開するために pushする。
* (10)(8) オリジナルのレポジトリ(Original Repository)で、
  修正・更新されたコードを取り込むために、fetchし mergeする。

新規に開発したコードを公開する場合。

* (11)(4)(5)(6)(9) GitHub(またはGitBucket等)には空のレポジトリを作成しておく。
  作成したコードを対象として、
  ローカルにレポジトリを作成(init)し、ファイルの追加(add)、登録(commit)、
  プライベートなサーバに pushして確認、問題無ければ公開(push)する。

This DSL covers below.

* Initialize local git repository, add project files, commit them,
  push to remote repository.
* On Github / GitBucket / and so on,
  sync a fork of a repository to keep it up-to-date with the upstream repository.
** https://help.github.com/articles/syncing-a-fork/


== How to use / 利用方法

At first, you needs a environment that you can execute gradle or gradlew commands.

gradleまたは gradlewコマンドを実行できる環境で、ご利用ください。


.Initialize, add, commit, push
====
----
$ gradle -b git.gradle initTP  (abbrev. of "initThenPush")
----
====


.Sync a fork
====
----
$ gradle -b git.gradle fetchUAM  (abbrev. of "fetchUpstreamAndMerge")
----
====



== License / ライセンス

Apache License Version 2.0


== Acknowledgements / 謝辞

This Gradle Plugin is based on URLs below.


=== about jgit

* https://github.com/centic9/jgit-cookbook
* http://download.eclipse.org/jgit/site/4.1.1.201511131810-r/apidocs/index.html


=== syncing a fork on GitHub

* https://help.github.com/articles/syncing-a-fork/


=== Git Flow

* http://danielkummer.github.io/git-flow-cheatsheet/index.html
** http://danielkummer.github.io/git-flow-cheatsheet/index.ja_JP.html

https://www.google.com/search?q=git+flow&ie=utf-8&oe=utf-8


=== GitLab Flow

* http://doc.gitlab.com/ee/workflow/gitlab_flow.html

https://www.google.com/search?q=gitlab+flow&ie=utf-8&oe=utf-8


=== GitHub Flow

* http://scottchacon.com/2011/08/31/github-flow.html
** https://gist.github.com/Gab-km/3705015

https://www.google.com/search?q=github+flow&ie=utf-8&oe=utf-8

